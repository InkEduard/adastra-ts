function K(i,d,s){U();let h,y,_,O,N,S,v,m,w;function L(e={}){let n=a=>a.getAttribute("key"),u=()=>{};O=e.updating||u,N=e.updated||u,S=e.removing||u,v=e.removed||u,m=e.adding||u,w=e.added||u,y=e.key||n,_=e.lookahead||!1}function E(e,n){if(M(e,n))return V(e,n);let u=!1;if(!x(O,e,n,()=>u=!0)){if(e.nodeType===1&&window.Alpine&&(window.Alpine.cloneNode(e,n),e._x_teleport&&n._x_teleport&&E(e._x_teleport,n._x_teleport)),Q(n)){W(e,n),N(e,n);return}u||q(e,n),N(e,n),D(e,n)}}function M(e,n){return e.nodeType!=n.nodeType||e.nodeName!=n.nodeName||b(e)!=b(n)}function V(e,n){if(x(S,e))return;let u=n.cloneNode(!0);x(m,u)||(e.replaceWith(u),v(e),w(u))}function W(e,n){let u=n.nodeValue;e.nodeValue!==u&&(e.nodeValue=u)}function q(e,n){if(e._x_transitioning||e._x_isShown&&!n._x_isShown||!e._x_isShown&&n._x_isShown)return;let u=Array.from(e.attributes),a=Array.from(n.attributes);for(let l=u.length-1;l>=0;l--){let t=u[l].name;n.hasAttribute(t)||e.removeAttribute(t)}for(let l=a.length-1;l>=0;l--){let t=a[l].name,g=a[l].value;e.getAttribute(t)!==g&&e.setAttribute(t,g)}}function D(e,n){let u=$(e.children),a={},l=I(n),t=I(e);for(;l;){X(l,t);let o=b(l),c=b(t);if(!t)if(o&&a[o]){let r=a[o];e.appendChild(r),t=r,c=b(t)}else{if(!x(m,l)){let r=l.cloneNode(!0);e.appendChild(r),w(r)}l=f(n,l);continue}let A=r=>r&&r.nodeType===8&&r.textContent==="[if BLOCK]><![endif]",C=r=>r&&r.nodeType===8&&r.textContent==="[if ENDBLOCK]><![endif]";if(A(l)&&A(t)){let r=0,k=t;for(;t;){let p=f(e,t);if(A(p))r++;else if(C(p)&&r>0)r--;else if(C(p)&&r===0){t=p;break}t=p}let H=t;r=0;let P=l;for(;l;){let p=f(n,l);if(A(p))r++;else if(C(p)&&r>0)r--;else if(C(p)&&r===0){l=p;break}l=p}let R=l,j=new B(k,H),z=new B(P,R);D(j,z);continue}if(t.nodeType===1&&_&&!t.isEqualNode(l)){let r=f(n,l),k=!1;for(;!k&&r;)r.nodeType===1&&t.isEqualNode(r)&&(k=!0,t=T(e,l,t),c=b(t)),r=f(n,r)}if(o!==c){if(!o&&c){a[c]=t,t=T(e,l,t),a[c].remove(),t=f(e,t),l=f(n,l);continue}if(o&&!c&&u[o]&&(t.replaceWith(u[o]),t=u[o],c=b(t)),o&&c){let r=u[o];if(r)a[c]=t,t.replaceWith(r),t=r,c=b(t);else{a[c]=t,t=T(e,l,t),a[c].remove(),t=f(e,t),l=f(n,l);continue}}}let G=t&&f(e,t);E(t,l),l=l&&f(n,l),t=G}let g=[];for(;t;)x(S,t)||g.push(t),t=f(e,t);for(;g.length;){let o=g.shift();o.remove(),v(o)}}function b(e){return e&&e.nodeType===1&&y(e)}function $(e){let n={};for(let u of e){let a=b(u);a&&(n[a]=u)}return n}function T(e,n,u){if(!x(m,n)){let a=n.cloneNode(!0);return e.insertBefore(a,u),w(a),a}return n}return L(s),h=typeof d=="string"?J(d):d,window.Alpine&&window.Alpine.closestDataStack&&!i._x_dataStack&&(h._x_dataStack=window.Alpine.closestDataStack(i),h._x_dataStack&&window.Alpine.cloneNode(i,h)),E(i,h),h=void 0,i}K.step=()=>{};K.log=()=>{};function x(i,...d){let s=!1;return i(...d,()=>s=!0),s}var F=!1;function J(i){const d=document.createElement("template");return d.innerHTML=i,d.content.firstElementChild}function Q(i){return i.nodeType===3||i.nodeType===8}var B=class{constructor(i,d){this.startComment=i,this.endComment=d}get children(){let i=[],d=this.startComment.nextSibling;for(;d&&d!==this.endComment;)i.push(d),d=d.nextSibling;return i}appendChild(i){this.endComment.before(i)}get firstChild(){let i=this.startComment.nextSibling;if(i!==this.endComment)return i}nextNode(i){let d=i.nextSibling;if(d!==this.endComment)return d}insertBefore(i,d){return d.before(i),i}};function I(i){return i.firstChild}function f(i,d){let s;return i instanceof B?s=i.nextNode(d):s=d.nextSibling,s}function U(){if(F)return;F=!0;let i=Element.prototype.setAttribute,d=document.createElement("div");Element.prototype.setAttribute=function(h,y){if(!h.includes("@"))return i.call(this,h,y);d.innerHTML=`<span ${h}="${y}"></span>`;let _=d.firstElementChild.getAttributeNode(h);d.firstElementChild.removeAttributeNode(_),this.setAttributeNode(_)}}function X(i,d){let s=d&&d._x_bindings&&d._x_bindings.id;s&&i.setAttribute&&(i.setAttribute("id",s),i.id=s)}function Y(i){i.morph=K}var Z=Y;export{Z as default,Y as morph};
